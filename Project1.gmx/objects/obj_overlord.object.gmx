<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_overlord</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//mp_potential_settings(360, 5, 3, true);

// window_set_fullscreen(true);
//window_set_position(0, 0);
window_set_size(1200, 900);
/*

room_set_width(rm_game, display_get_width());
room_set_height(rm_game, display_get_height());
*/
players = ds_list_create();

global.CONTROLLER_KEYBOARD_1 = 1;
global.CONTROLLER_KEYBOARD_2 = 2;
global.CONTROLLER_GAMEPAD = 3;

global.particle_system = part_system_create();
global.particle_emmiter = ds_map_create();
global.particle_type = ds_map_create();

ds_map_add(global.particle_emmiter, "BLOOD", part_emitter_create(global.particle_system));
ds_map_add(global.particle_emmiter, "DUST", part_emitter_create(global.particle_system));
ds_map_add(global.particle_type, "BLOOD", part_type_create());
ds_map_add(global.particle_type, "DUST", part_type_create());

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var gp_num = gamepad_get_device_count();
for (var i = 0; i &lt; gp_num; i++;){
    if (gamepad_button_check_released(i, gp_face1)) {
        var in_use = false;
        with (obj_player) {
            if (controller == global.CONTROLLER_GAMEPAD &amp;&amp; controller_number == i) {
                in_use = true;
            }
        }
        if (!in_use) {
            add_player(global.CONTROLLER_GAMEPAD, i);
        }
        break;
    }
    if (keyboard_check_released(vk_enter)) {
        var in_use = false;
        with (obj_player) {
            if (controller == global.CONTROLLER_KEYBOARD_1) {
                in_use = true;
            }
        }
        if (!in_use) {
            add_player(global.CONTROLLER_KEYBOARD_1, 1);
        }
        break;
    }
    if (keyboard_check_released(vk_shift)) {
        var in_use = false;
        with (obj_player) {
            if (controller == global.CONTROLLER_KEYBOARD_2) {
                in_use = true;
            }
        }
        if (!in_use) {
            add_player(global.CONTROLLER_KEYBOARD_2, 2);
        }
        break;
    }
    if (room = rm_menu) {
        if (gamepad_button_check_released(i, gp_start)) {
            console_log("Starting game");
            room_goto(rm_game);
        }
        break;
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(mouse_x, mouse_y, obj_swipe);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room == rm_game) {
/*
    view_xview[0] = 0;
    view_yview[0] = 0;
    view_wview[0] = display_get_width();
    view_hview[0] = display_get_height();
    
    view_xport[0] = 0;
    view_yport[0] = 0;
    view_wport[0] = display_get_width();
    view_hport[0] = display_get_height();
*/  
    console_log(string(room_width) + "x" + string(room_height));

    var length = ds_list_size(players);
    for (var i = 0; i &lt; length; i++) {
        var player = ds_list_find_value(players, i);
        place_player(player);
    }
    instance_create(0, 0, obj_hud_bottom);  
    instance_create(0,0, obj_powerup_generator);  
    map_gen();
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room = rm_menu) {
    console_log("Starting game");
    room_goto(rm_game);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room == rm_menu) {
    game_end();
} else {
    game_restart();
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>21,21</point>
  </PhysicsShapePoints>
</object>
